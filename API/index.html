<!DOCTYPE html>
<html>
<head>
    <title>ESP32 Data Visualization</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const socket = io();
            socket.on('new_data', (data) => {
                console.log(data);
                // Aqu√≠ puedes actualizar tu interfaz en tiempo real con los nuevos datos
            });
        });
    </script>
</head>
<body>
    <h1>ESP32 Data Visualization</h1>
    <div>
        {% for ip, entries in data.items() %}
            <h2>Data from {{ ip }}</h2>
            <a href="/plot/{{ ip }}">View Plot</a>
            <ul>
                {% for entry in entries %}
                    <li>{{ entry.timestamp }} - Temperature: {{ entry.temperature }}C, Humidity: {{ entry.humidity }}%, Velocity: {{ entry.velocity }}, Capacity: {{ entry.capacity }}%</li>
                {% endfor %}
            </ul>
        {% endfor %}
    </div>
</body>
</html>
